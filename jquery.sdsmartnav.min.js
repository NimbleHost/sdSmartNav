(function(a){a.sdSmartNav=function(c){var f=a([]),e,b;sdNav.element="nav",sdNav.tier1="#toolbar_horizontal",sdNav.tier2="#toolbar_sub",sdNav.tier3="#toolbar_vertical",sdNav.drop=false;if(c){a.extend(sdNav,c)}sdNav.tb1=f.add(sdNav.element+sdNav.tier1),sdNav.tb2=f.add(sdNav.element+sdNav.tier2),sdNav.tb3=f.add(sdNav.element+sdNav.tier3);switch(sdNav.type){case 1:sdNav.tb1.css("display","block");b="",e=sdNav.tb1.find("> ul > li.currentAncestorListItem > ul");if(!e.length){e=sdNav.tb1.find("> ul > li.currentListItem > ul")}break;case 2:b=sdNav.tb1.find("> ul"),e=sdNav.tb1.find("> ul > li.currentAncestorListItem > ul");if(!e.length){e=sdNav.tb1.find("> ul > li.currentListItem > ul")}break;case 3:b="",e=sdNav.tb1.find("> ul");break;case 4:b="",e="";sdNav.tb1.remove();break;default:sdNav.tb1.css("display","block");b=sdNav.tb1.find("> ul > li.currentAncestorListItem > ul"),e=sdNav.tb1.find("> ul > li.currentAncestorListItem > ul > li.currentAncestorListItem > ul");if(!b.length){b=sdNav.tb1.find("> ul > li.currentListItem > ul")}if(!e.length){e=sdNav.tb1.find("> ul > li.currentAncestorListItem > ul > li.currentListItem > ul")}break}if(sdNav.tb1.children().length){if(e.length){sdNav.tb3.prepend(e.clone()).css("display","block");if(!f.add("body").width()<="600"){e.css("display","none")}}if(b.length){sdNav.tb2.prepend(b.clone()).css("display","block");if(!f.add("body").width()<="600"){b.css("display","none")}}}if(sdNav.drop===true){var d=function(g){g.find(" > ul li > ul").parent().addClass("hasChildren");a(g).on({mouseenter:function(){a(this).find("> ul").stop("true","true").animate({opacity:"toggle",paddingTop:"toggle"});var n=a(this).find("> ul");if(n.length){var m=n.offset(),i=m.left,h=n.width(),j=f.add(window).width(),k=((i+h)<=j);if(!k){f.add(this).find("> ul").addClass("outOfView");g.find("ul ul ul.outOfView").css({left:"auto",right:"85%",top:"75%"});g.find("> ul > li > ul.outOfView").css({left:"auto",right:"0",top:"auto"})}}},mouseleave:function(){console.log("I was left");f.add(this).find("> ul").stop("true","true").animate({opacity:"toggle",paddingTop:"toggle"});f.add(this).find("> ul").removeClass("outOfView")}},"ul li")};if(sdNav.tb1.find(" > ul li > ul")){d(sdNav.tb1)}if(sdNav.tb2.find(" > ul li > ul")){d(sdNav.tb2)}if(sdNav.tb3.find(" > ul li > ul")){sdNav.tb3.find("a.current").siblings("ul").css("display","block").end().parents("ul").css("display","block")}}if(e.length){sdNav.tbvP=e}if(b.length){sdNav.tbsP=b}}})(jQuery);